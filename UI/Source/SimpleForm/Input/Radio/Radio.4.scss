@layer forms {

	:root {
		--ui-field-radio-size: #{toRem(32)};
		--ui-field-radio-spacing: #{toRem(10)};
		--ui-field-radio-padding: #{toRem(6)};
		--ui-field-radio-label-offset: #{toRem(3)};
	}

	.ui-form__field:has(input[type="radio"]) {
		min-height: var(--ui-field-radio-size);
		--ui-field-radio-offset: calc(var(--ui-field-radio-size) + var(--ui-field-radio-spacing));
		padding-inline-start: var(--ui-field-radio-offset);

		&:has(input[type="radio"]:disabled) {
			@include disabledProps;
		}

		input[type="radio"] {
			// NB: hidden by injection of .visually-hidden class (see Radio.tsx)

			&:checked + label {

				&::before {
					// replacement radio (border, checked state)
					//background-color: var(--ui-primary);
				}

				&::after {
					// replacement radio (icon, checked state)
					// NB: uses background-color rather than color, as the icon is formed using a mask
					// (allows us to recolour an SVG referenced within a data URL)
					//background-color: var(--ui-primary-fg);
					background-color: var(--ui-primary);
				}

				&:hover {

					&::after {
						background-color: var(--ui-primary-light);
					}

				}

				&:active {

					&::after {
						background-color: var(--ui-primary-dark);
					}

				}

			}
		}

		label {
			display: block;
			padding-block-start: var(--ui-field-radio-label-offset);

			&::before, &::after {
				content: "";
				display: block;
				float: left;
				transition-property: color, background-color, border-color, box-shadow, opacity;
				transition-duration: .2s;
				transition-timing-function: ease;
				border-radius: 50%;
			}

			&::before {
				// replacement radio (border)
				border: var(--ui-field-border-width) var(--ui-field-border-style) var(--ui-field-border-color);
				background-color: var(--ui-field-background-color);
				width: var(--ui-field-radio-size);
				height: var(--ui-field-radio-size);
				margin-inline-start: calc(var(--ui-field-radio-offset) * -1);
				margin-block-start: calc(var(--ui-field-radio-label-offset) * -1);
				float: left;
			}

			&::after {
				// replacement radio (icon)
				mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3C/svg%3E");
				mask-size: cover;
				width: calc(var(--ui-field-radio-size) - (2 * var(--ui-field-radio-padding)));
				height: calc(var(--ui-field-radio-size) - (2 * var(--ui-field-radio-padding)));
				margin-inline-start: calc((var(--ui-field-radio-offset) * -1) + var(--ui-field-radio-padding));
				margin-block-start: calc((var(--ui-field-radio-label-offset) * -1) + var(--ui-field-radio-padding));
			}

		}

		&:hover {

			label {

				&::before {
					border-color: var(--ui-field-color-border-color--hover);
				}

			}

		}

		&:focus-within {

			label {

				&::before {
					border-color: var(--ui-field-color-border-color--active);
				}

			}

		}

		+ .ui-form__field-help {
			//margin-block-start: 0;
		}
	}
}
