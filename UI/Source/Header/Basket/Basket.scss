.site-nav {
	$site-nav: &;

	&__actions {

		&-basket {
			$site-header-actions-basket: &;
			display: flex;
			gap: px_to_rem(8);
			font-size: px_to_rem(15);

			svg,
			.loading--small .loading__spinner {
				width: px_to_rem(20);
				height: px_to_rem(20);
			}
			i {
				font-size: px_to_rem(20);
			}

			&-label {
				color: currentColor;
				transition: color .3s ease-in-out;
			}

			&:hover, &:active {

				#{$site-header-actions-basket}-label {
					color: var(--primary-fg);
				}

			}
		}

		&-basket-label,
		&-basket-total {
			// screenreader only
			position: absolute;
			width: 1px;
			height: 1px;
			padding: 0;
			margin: -1px;
			overflow: hidden;
			clip: rect(0, 0, 0, 0);
			white-space: nowrap;
			border: 0;
		}

	}

	&__basket {

		&-wrapper {
			position: fixed;
			left: auto;
			top: 0;
			right: 0;
			bottom: 0;
			border: 0;
			margin: 0;
			padding: px_to_rem(20) px_to_rem(12);
			width: 100vw;
			max-width: px_to_rem(340);
			height: 100vh;
			height: 100dvh;
			box-shadow: none;
			transform: translateX(100%);
			transition-property: transform, box-shadow, overlay, display;
			transition-duration: .3s;
			transition-timing-function: ease-in-out;
			transition-behavior: allow-discrete;
			display: flex;
			flex-direction: column;
			gap: px_to_rem(24);

			> header {
				display: flex;
				flex-direction: column;
				gap: px_to_rem(10);
				font-size: px_to_rem(15);
				font-weight: 600;
			}

			// NB: for polyfill support
			// (do not combine with following rule)
			&.\:popover-open {
				box-shadow: px_to_rem(-16) 0 px_to_rem(16) 0 rgba(#210818, 25%);
				transform: none;

				&::backdrop {
					background-color: rgba(#210818, 25%);
				}

			}

			&:popover-open {
				box-shadow: px_to_rem(-16) 0 px_to_rem(16) 0 rgba(#210818, 25%);
				transform: none;

				&::backdrop {
					background-color: rgba(#210818, 25%);
				}

			}

			&::backdrop {
				background-color: transparent;
				transition-property: background-color, overlay, display;
				transition-duration: .3s;
				transition-timing-function: ease-in-out;
				transition-behavior: allow-discrete;
			}

		}

		&-title {
			font-size: px_to_rem(20);
			line-height: normal;
			font-weight: 700;
			margin: 0;
			display: flex;
			align-items: center;
			gap: px_to_rem(10);

			> i {
				font-size: inherit;
			}
		}

		&-checkout {
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: px_to_rem(15);
			min-height: px_to_rem(44);
		}

	}

}

@starting-style {

	.site-nav {

		&__basket-wrapper {

			&.\:popover-open {
				box-shadow: none;
				transform: translateX(100%);

				&::backdrop {
					background-color: transparent;
				}
			}

			&:popover-open {
				box-shadow: none;
				transform: translateX(100%);

				&::backdrop {
					background-color: transparent;
				}
			}

		}

	}

}

@media only screen and (min-width: 1024px) {

	.site-nav {

		&__actions {

			&-basket-label,
			&-basket-total {
				position: static;
				width: auto;
				height: auto;
				margin: 0;
				overflow: visible;
				clip: auto;
				white-space: normal;
			}

			&-basket-label {
				display: flex;
				align-items: center;
				gap: px_to_rem(6);

				&:hover {

					.notification-badge {
						background: var(--primary-fg);
						color: var(--primary);
					}
				}
			}

		}

	}

}

@media only screen and (min-width: 1360px) {

	.site-nav {

		&__basket {

			&-title {
				font-size: px_to_rem(26);
			}

		}

	}

}
