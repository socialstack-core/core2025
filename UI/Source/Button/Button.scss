@layer components.buttons {
	$button-variants: primary, secondary, success, danger, warning, info;
	$button-sizes: xs, sm, md, lg, xl;

	:root {
		--ui-button-min-height--xs: #{toRem(30)};
		--ui-button-min-height--sm: #{toRem(40)};
		--ui-button-min-height--md: #{toRem(50)};
		--ui-button-min-height--lg: #{toRem(60)};
		--ui-button-min-height--xl: #{toRem(70)};
		--ui-button-min-height: var(--ui-button-min-height--md);

		--ui-button-padding-y--xs: 0;
		--ui-button-padding-y--sm: 0;
		--ui-button-padding-y--md: #{toRem(8)};
		--ui-button-padding-y--lg: #{toRem(8)};
		--ui-button-padding-y--xl: #{toRem(8)};
		--ui-button-padding-y: var(--ui-button-padding-y--md);

		--ui-button-padding-x--xs: #{toRem(8)};
		--ui-button-padding-x--sm: #{toRem(20)};
		--ui-button-padding-x--md: #{toRem(30)};
		--ui-button-padding-x--lg: #{toRem(40)};
		--ui-button-padding-x--xl: #{toRem(50)};
		--ui-button-padding-x: var(--ui-button-padding-x--md);

		--ui-button-font-size--xs: .75em;
		--ui-button-font-size--sm: .85em;
		--ui-button-font-size--md: 1em;
		--ui-button-font-size--lg: 1.5em;
		--ui-button-font-size--xl: 1.8em;
		--ui-button-font-size: var(--ui-button-font-size--md);

		--ui-button-border-radius--xs: #{toRem(2)};
		--ui-button-border-radius--sm: #{toRem(4)};
		--ui-button-border-radius--md: #{toRem(6)};
		--ui-button-border-radius--lg: #{toRem(12)};
		--ui-button-border-radius--xl: #{toRem(16)};
		--ui-button-border-radius: var(--ui-button-border-radius--md);
	}

	.ui-btn {
		$btn: &;
		display: inline-flex;
		gap: toRem(8);
		align-items: center;
		justify-content: center;
		background-color: transparent;
		border: 1px solid transparent;
		padding: var(--ui-button-padding-y) var(--ui-button-padding-x);
		min-height: var(--ui-button-min-height);
		font-size: var(--ui-button-font-size);
		/*
    font-family: var(--bs-btn-font-family);
    font-size: var(--bs-btn-font-size);
    font-weight: var(--bs-btn-font-weight);
    line-height: var(--bs-btn-line-height);
    color: var(--bs-btn-color);
    */
		//text-align: center;
		text-decoration: none;
		//vertical-align: middle;
		cursor: pointer;
		-webkit-user-select: none;
		user-select: none;
		/*
    border: var(--bs-btn-border-width) solid var(--bs-btn-border-color);
    background-color: var(--bs-btn-bg);
    transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;
    */
		border-radius: var(--ui-button-border-radius);
		transition-property: color, background-color, border-color, box-shadow, opacity;
		transition-duration: .2s;
		transition-timing-function: ease;

		&:disabled {
			@include disabledProps;
		}

		@each $variant in $button-variants {
			&--#{$variant} {
				background-color: var(--ui-#{$variant});
				color: var(--ui-#{$variant}-fg);

				&:hover {
					background-color: var(--ui-#{$variant}-light);
				}

				&:active {
					background-color: var(--ui-#{$variant}-dark);
				}
			}
		}

		&--link {
			// TODO
		}
		// ----

		&--outline {
			background-color: transparent;

			@each $variant in $button-variants {
				&#{$btn}--#{$variant} {
					border-color: var(--ui-#{$variant});
					//color: var(--ui-#{$variant});
					color: var(--ui-site-fg);

					&:hover {
						border-color: var(--ui-#{$variant}-light);
						background-color: var(--ui-#{$variant}-light);
						color: var(--ui-#{$variant}-fg);
					}

					&:active {
						border-color: var(--ui-#{$variant}-dark);
						background-color: var(--ui-#{$variant}-dark);
						color: var(--ui-#{$variant}-fg);
					}
				}
			}
		}
		// ----

		&--rounded {
			// !important to override border radius set via size
			--ui-button-border-radius: calc(var(--ui-button-min-height) / 2) !important;

			&#{$btn}--close {
				--ui-button-border-radius: 50%;
				//inset: 25%;
			}
		}
		// ----

		&--squared {
			// !important to override border radius set via size
			--ui-button-border-radius: 0 !important;

			&#{$btn}--close {
				--ui-button-border-radius: 0;
				//inset: 25%;
			}
		}
		// ----

		@each $size in $button-sizes {
			&--#{$size} {
				--ui-button-min-height: var(--ui-button-min-height--#{$size});
				--ui-button-padding-y: var(--ui-button-padding-y--#{$size});
				--ui-button-padding-x: var(--ui-button-padding-x--#{$size});
				--ui-button-font-size: var(--ui-button-font-size--#{$size});
				--ui-button-border-radius: var(--ui-button-border-radius--#{$size});

				&#{$btn}--close {
					width: var(--ui-button-min-height--#{$size});
					height: var(--ui-button-min-height--#{$size});
				}

			}
		}
		// ----

		&--close {
			//width: 2rem;
			//height: 2rem;
			position: relative;
			padding: 0;
			width: var(--ui-button-min-height--md);
			height: var(--ui-button-min-height--md);

			&:not(:focus) {
				//border-color: transparent;
			}

			&::before {
				content: "";
				position: absolute;
				//inset: toRem(6);
				inset: 20%;
				background-color: var(--ui-site-fg-secondary);
				transition: background-color .3s ease;
				mask: url("data:image/svg+xml,%3Csvg viewBox='0 0 474.133 474.133' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M55.132 29.633L29.633 55.184c61.043 58.222 126.374 129.47 181.504 182.305L29.633 419.147l25.499 25.335c58.557-60.323 128.077-126.248 181.934-181.007a51861.68 51861.68 0 01181.94 181.007l25.494-25.335L262.996 237.49c61.08-61.02 118.9-119.722 181.504-182.305l-25.495-25.55c-62.712 63.043-122.833 122.929-181.934 182.093-62.4-63.89-128.662-128.828-181.94-182.094z' /%3E%3C/svg%3E");
				mask-size: cover;
			}

			&:hover {
				&::before {
					background-color: var(--ui-site-fg);
				}
			}

			&#{$btn}--outline {
				border-color: var(--ui-site-fg-secondary);

				&:hover {
					border-color: var(--ui-site-fg);
				}

				&:active {
				}

				@each $variant in $button-variants {
					&#{$btn}--#{$variant} {
						border-color: var(--ui-#{$variant});

						&::before {
							//background-color: var(--ui-#{$variant});
							background-color: var(--ui-site-fg);
						}

						&:hover::before {
							background-color: var(--ui-#{$variant}-fg);
						}
					}
				}
			}

			&:not(#{$btn}--outline) {

				@each $variant in $button-variants {
					&#{$btn}--#{$variant}::before {
						background-color: var(--ui-#{$variant}-fg);
					}
				}
			}
		}
	}
}
